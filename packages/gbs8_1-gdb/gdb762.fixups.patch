diff -r -u -w gdb-7.6.2/gdb/defs.h gdb-7.6.2-patched/gdb/defs.h
--- gdb-7.6.2/gdb/defs.h	2013-12-08 04:33:13.000000000 +0000
+++ gdb-7.6.2-patched/gdb/defs.h	2019-07-02 19:16:38.710016280 +0000
@@ -25,6 +25,9 @@
 #  error gdbserver should not include gdb/defs.h
 #endif
 
+#define _SGI_SOURCE 1
+#define _SGI_REENTRANT_FUNCTIONS 1
+
 #include "config.h"		/* Generated by configure.  */
 #include "build-gnulib/config.h"
 
diff -r -u -w gdb-7.6.2/libiberty/mkstemps.c gdb-7.6.2-patched/libiberty/mkstemps.c
--- gdb-7.6.2/libiberty/mkstemps.c	2013-12-08 04:11:52.000000000 +0000
+++ gdb-7.6.2-patched/libiberty/mkstemps.c	2019-07-02 18:57:44.626814920 +0000
@@ -16,6 +16,8 @@
    write to the Free Software Foundation, Inc., 51 Franklin Street - Fifth Floor,
    Boston, MA 02110-1301, USA.  */
 
+#include <sys/time.h>
+
 #ifdef HAVE_CONFIG_H
 #include "config.h"
 #endif
diff -r -u -w gdb-7.6.2/libiberty/strsignal.c gdb-7.6.2-patched/libiberty/strsignal.c
--- gdb-7.6.2/libiberty/strsignal.c	2013-12-08 04:11:52.000000000 +0000
+++ gdb-7.6.2-patched/libiberty/strsignal.c	2019-07-02 18:59:10.366638280 +0000
@@ -20,6 +20,7 @@
 
 #include <stdio.h>
 #include <signal.h>
+#include <sys/signal.h>
 
 /*  Routines imported from standard C runtime libraries. */
 
@@ -248,6 +249,8 @@
 #else
 #ifdef _NSIG
 static int sys_nsig = _NSIG;
+#else
+static int sys_nsig = NUMSIGS;
 #endif
 #endif
 extern const char * const sys_siglist[];
diff -r -u -w gdb-7.6.2/libiberty/timeval-utils.c gdb-7.6.2-patched/libiberty/timeval-utils.c
--- gdb-7.6.2/libiberty/timeval-utils.c	2013-12-08 04:11:52.000000000 +0000
+++ gdb-7.6.2-patched/libiberty/timeval-utils.c	2019-07-02 18:57:59.893442200 +0000
@@ -17,6 +17,8 @@
 write to the Free Software Foundation, Inc., 51 Franklin Street - Fifth Floor,
 Boston, MA 02110-1301, USA.  */
 
+#include <sys/time.h>
+
 #include "config.h"
 
 /* On some systems (such as WindISS), you must include <sys/types.h>
diff -r -u -w gdb-7.6.2/readline/signals.c gdb-7.6.2-patched/readline/signals.c
--- gdb-7.6.2/readline/signals.c	2013-12-08 04:11:52.000000000 +0000
+++ gdb-7.6.2-patched/readline/signals.c	2019-07-02 18:58:22.319599320 +0000
@@ -21,6 +21,8 @@
 
 #define READLINE_LIBRARY
 
+#include <sys/signal.h>
+
 #if defined (HAVE_CONFIG_H)
 #  include <config.h>
 #endif
diff -r -u -w gdb-7.6.2/sim/common/sim-arange.c gdb-7.6.2-patched/sim/common/sim-arange.c
--- gdb-7.6.2/sim/common/sim-arange.c	2013-12-08 04:11:52.000000000 +0000
+++ gdb-7.6.2-patched/sim/common/sim-arange.c	2019-07-02 19:05:52.675644360 +0000
@@ -280,11 +280,8 @@
   build_search_tree (ar);
 }
 
-#endif /* DEFINE_NON_INLINE_P */
-
-#if DEFINE_INLINE_P
 
-SIM_ARANGE_INLINE int
+int
 sim_addr_range_hit_p (ADDR_RANGE *ar, address_word addr)
 {
   ADDR_RANGE_TREE *t = ar->range_tree;
@@ -301,4 +298,4 @@
   return 0;
 }
 
-#endif /* DEFINE_INLINE_P */
+#endif /* DEFINE_NON_INLINE_P */
diff -r -u -w gdb-7.6.2/sim/common/sim-arange.h gdb-7.6.2-patched/sim/common/sim-arange.h
--- gdb-7.6.2/sim/common/sim-arange.h	2013-12-08 04:11:52.000000000 +0000
+++ gdb-7.6.2-patched/sim/common/sim-arange.h	2019-07-02 19:07:20.708844120 +0000
@@ -62,7 +62,7 @@
 
 /* Return non-zero if ADDR is in range AR, traversing the entire tree.
    If no range is specified, that is defined to mean "everything".  */
-extern INLINE int
+extern int
 sim_addr_range_hit_p (ADDR_RANGE * /*ar*/, address_word /*addr*/);
 #define ADDR_RANGE_HIT_P(ar, addr) \
   ((ar)->range_tree == NULL || sim_addr_range_hit_p ((ar), (addr)))

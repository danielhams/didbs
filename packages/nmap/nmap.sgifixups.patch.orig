diff -r -u -w nmap-7.70/liblinear/Makefile nmap-7.70-patched/liblinear/Makefile
--- nmap-7.70/liblinear/Makefile	2011-09-23 22:15:09.000000000 +0000
+++ nmap-7.70-patched/liblinear/Makefile	2018-08-05 00:05:11.763404120 +0000
@@ -4,7 +4,7 @@
 LIBS = blas/blas.a
 SHVER = 1
 AR = ar
-RANLIB = ranlib
+RANLIB = true
 #LIBS = -lblas
 
 all: train predict
diff -r -u -w nmap-7.70/libnetutil/netutil.cc nmap-7.70-patched/libnetutil/netutil.cc
--- nmap-7.70/libnetutil/netutil.cc	2018-01-28 21:18:17.000000000 +0000
+++ nmap-7.70-patched/libnetutil/netutil.cc	2018-08-05 00:04:14.034878880 +0000
@@ -3810,7 +3810,7 @@
   p = realloc(msg->msg_control, msg->msg_controllen + CMSG_SPACE(len));
   if (p == NULL)
     return -1;
-  msg->msg_control = p;
+  msg->msg_control = (caddr_t)p;
 
   cm = (struct cmsghdr *) ((char *) msg->msg_control + msg->msg_controllen);
   msg->msg_controllen += CMSG_SPACE(len);
@@ -3894,13 +3894,15 @@
   n = -1;
 
   /* Set up sendmsg data structure. iov is filled in below. */
-  msg.msg_name = (void *) dst;
+  msg.msg_name = (caddr_t) dst;
   msg.msg_namelen = sizeof(*dst);
   msg.msg_iov = &iov;
   msg.msg_iovlen = 1;
   msg.msg_control = NULL;
   msg.msg_controllen = 0;
+#if !defined(__sgi)
   msg.msg_flags = 0;
+#endif
 
   if (packetlen < sizeof(*hdr))
     return -1;
Only in nmap-7.70-patched/libnetutil: netutil.cc.orig
diff -r -u -w nmap-7.70/nbase/nbase.h nmap-7.70-patched/nbase/nbase.h
--- nmap-7.70/nbase/nbase.h	2018-02-20 17:37:47.000000000 +0000
+++ nmap-7.70-patched/nbase/nbase.h	2018-08-05 00:04:14.038462240 +0000
@@ -231,7 +231,9 @@
 #undef NDEBUG
 
 /* Integer types */
+#if !defined(__sgi)
 #include <stdint.h>
+#endif
 typedef uint8_t u8;
 typedef int8_t s8;
 typedef uint16_t u16;
Only in nmap-7.70-patched/nbase: nbase.h.orig
